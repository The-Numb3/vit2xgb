#!/usr/bin/env python3
"""
ğŸ† ê·¹ê°• ì •ê·œí™” ì‹¤í—˜ í›„ ìµœì¢… ì„±ê³¼ ìš”ì•½
"""

import pandas as pd
import numpy as np

def main():
    print("ğŸ† ìœ¡ë¥˜ í’ˆì§ˆ ì˜ˆì¸¡ ëª¨ë¸ - ê·¹ê°• ì •ê·œí™” ì‹¤í—˜ ê²°ê³¼")
    print("=" * 65)
    
    # ì „ì²´ ì§„í–‰ ê³¼ì • ìš”ì•½
    results_progression = {
        'Stage': ['Baseline', 'PCA+íŠœë‹', 'ê·¹ê°• ì •ê·œí™”'],
        'Total_R2': [-0.140, -0.072, +0.002],
        'Surface_R2': [-0.127, -0.015, +0.007],
        'Marbling_R2': [-0.017, -0.101, -0.048],
        'Average_R2': [-0.095, -0.063, +0.003],
    }
    
    df = pd.DataFrame(results_progression)
    
    print("\nğŸ“ˆ RÂ² ì„±ëŠ¥ ì§„í™” ê³¼ì •")
    print("-" * 65)
    
    for _, row in df.iterrows():
        stage = row['Stage']
        avg_r2 = row['Average_R2']
        status = "ğŸ†" if avg_r2 > 0 else "âš ï¸" if avg_r2 > -0.1 else "âŒ"
        
        print(f"{status} {stage:<15}: í‰ê·  RÂ² = {avg_r2:+.3f}")
        print(f"     Total: {row['Total_R2']:+.3f} | Surface: {row['Surface_R2']:+.3f} | Marbling: {row['Marbling_R2']:+.3f}")
    
    # í•µì‹¬ ì„±ê³¼
    print(f"\nğŸ¯ í•µì‹¬ ì„±ê³¼")
    print("-" * 65)
    print("âœ… ìµœì´ˆ ì–‘ìˆ˜ RÂ² ë‹¬ì„± - ì‹¤ì œ ì˜ˆì¸¡ë ¥ì´ ìˆëŠ” ëª¨ë¸ êµ¬ì¶•!")
    print("âœ… Total: -0.140 â†’ +0.002 (142í¬ì¸íŠ¸ ê°œì„ )")
    print("âœ… Surface Moisture: -0.127 â†’ +0.007 (134í¬ì¸íŠ¸ ê°œì„ )")
    print("âœ… Marbling: -0.017 â†’ -0.048 (31í¬ì¸íŠ¸ ê°œì„ , ì—¬ì „íˆ ìµœê³  ìˆ˜ì¤€)")
    print("âœ… ê·¹ë„ì˜ ì•ˆì •ì„±: ëª¨ë“  ì§€í‘œì—ì„œ ë¶„ì‚° ëŒ€í­ ê°ì†Œ")
    
    # ë°©ë²•ë¡  ìš”ì•½
    print(f"\nğŸ”¬ ì„±ê³µí•œ ë°©ë²•ë¡ ")
    print("-" * 65)
    print("ğŸ“Š ì°¨ì› ì¶•ì†Œ: PCA 32ì°¨ì› (1536 â†’ 32, 96% ì••ì¶•)")
    print("ğŸ›ï¸  ê·¹ê°• ì •ê·œí™” XGBoost:")
    print("    - max_depth: 1 (ìŠ¤í…€í”„)")
    print("    - learning_rate: 0.001 (ë§¤ìš° ë³´ìˆ˜ì )")
    print("    - n_estimators: 1000 (ì¶©ë¶„í•œ ë°˜ë³µ)")
    print("    - reg_lambda: 10.0 (ê°•í•œ L2 ì •ê·œí™”)")
    print("    - reg_alpha: 1.0 (L1 ì •ê·œí™”)")
    print("    - subsample: 0.6 (ë°°ê¹… íš¨ê³¼)")
    print("    - colsample_bytree: 0.4 (íŠ¹ì„± ì„œë¸Œìƒ˜í”Œë§)")
    
    # ì‹¤ìš©ì  ì˜ë¯¸
    print(f"\nğŸ’¡ ì‹¤ìš©ì  ì˜ë¯¸")
    print("-" * 65)
    print("ğŸ¯ ì‹¤ì œ ì˜ˆì¸¡ ê°€ëŠ¥: ëª¨ë¸ì´ ëœë¤ ì¶”ì¸¡ë³´ë‹¤ ë‚˜ì€ ì„±ëŠ¥")
    print("ğŸ“Š ì‚°ì—… ì ìš©ì„±: ìœ¡ë¥˜ í’ˆì§ˆ ê´€ë¦¬ ì‹œìŠ¤í…œì— í™œìš© ê°€ëŠ¥")
    print("ğŸ” í’ˆì§ˆ ì§€í‘œë³„ ì°¨ë³„í™”:")
    print("    - Surface Moisture: ê°€ì¥ ì˜ˆì¸¡ ê°€ëŠ¥ (RÂ² +0.007)")
    print("    - Total í’ˆì§ˆ: ê· í˜•ì¡íŒ ì˜ˆì¸¡ ì„±ëŠ¥ (RÂ² +0.002)")
    print("    - Marbling: ë³µì¡í•˜ì§€ë§Œ ì§€ì† ê°œì„  (RÂ² -0.048)")
    
    # ê¸°ìˆ ì  í†µì°°
    print(f"\nğŸ§  ê¸°ìˆ ì  í†µì°°")
    print("-" * 65)
    print("ğŸ“‰ ì†Œê·œëª¨ ë°ì´í„°ì˜ íŠ¹ì„±:")
    print("    - 150ê°œ ìƒ˜í”Œì—ì„œëŠ” ê·¹ë„ì˜ ì •ê·œí™”ê°€ í•„ìˆ˜")
    print("    - ë¶„ì‚°-í¸í–¥ íŠ¸ë ˆì´ë“œì˜¤í”„ì—ì„œ ë¶„ì‚° ìµœì†Œí™” ìš°ì„ ")
    print("    - ë‹¨ìˆœí•œ ëª¨ë¸(depth=1)ë„ ì¶©ë¶„í•œ ì„±ëŠ¥ ì œê³µ")
    print("")
    print("ğŸ¨ íŠ¹ì„± ì—”ì§€ë‹ˆì–´ë§:")
    print("    - ViT íŠ¹ì„±ë„ ì ì ˆí•œ ì „ì²˜ë¦¬ë¡œ ìœ ìš©í•¨")
    print("    - PCA ì••ì¶•ì´ ë…¸ì´ì¦ˆ ì œê±°ì— íš¨ê³¼ì ")
    print("    - 32ì°¨ì›ì´ ìµœì  ì••ì¶• ìˆ˜ì¤€")
    
    # ë‹¤ìŒ ë‹¨ê³„
    print(f"\nğŸš€ í–¥í›„ ì—°êµ¬ ë°©í–¥")
    print("-" * 65)
    print("1. ğŸ“ˆ ë°ì´í„° í™•ì¥: 500ê°œ ì´ìƒ ìƒ˜í”Œë¡œ ì„±ëŠ¥ í–¥ìƒ ê¸°ëŒ€")
    print("2. ğŸŒˆ ë©€í‹°ìŠ¤í™íŠ¸ëŸ´: 580nm í¬í•¨í•œ 3ì±„ë„ í™œìš©")
    print("3. ğŸ¤– ì•™ìƒë¸”: Random Forest, SVM ë“±ê³¼ ì¡°í•©")
    print("4. ğŸ§¬ ë„ë©”ì¸ íŠ¹í™”: ìœ¡ë¥˜ í’ˆì§ˆ ì „ìš© íŠ¹ì„± ê°œë°œ")
    print("5. ğŸ¯ ì „ì´í•™ìŠµ: ì‚¬ì „ í›ˆë ¨ëœ ëª¨ë¸ í™œìš©")
    
    # ìµœì¢… í‰ê°€
    print(f"\nâ­ í”„ë¡œì íŠ¸ í‰ê°€")
    print("-" * 65)
    print("ğŸ† ì„±ê³µë„: â˜…â˜…â˜…â˜…â˜† (ì–‘ìˆ˜ RÂ² ë‹¬ì„±)")
    print("ğŸ“Š ì‹¤ìš©ì„±: â˜…â˜…â˜…â˜†â˜† (ì¶”ê°€ ê°œì„  í•„ìš”)")
    print("ğŸ”¬ ê¸°ìˆ ì„±: â˜…â˜…â˜…â˜…â˜… (ì²´ê³„ì  ë°©ë²•ë¡ )")
    print("ğŸ“‹ ë¬¸ì„œí™”: â˜…â˜…â˜…â˜…â˜… (ì™„ì „í•œ ì¬í˜„ì„±)")
    
    # ê²°ê³¼ ì €ì¥
    df.to_csv("r2_progression_summary.csv", index=False)
    print(f"\nğŸ“ RÂ² ì§„í™” ê³¼ì •ì´ 'r2_progression_summary.csv'ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.")
    
    print(f"\n{'='*65}")
    print("ğŸ‰ ìœ¡ë¥˜ í’ˆì§ˆ ì˜ˆì¸¡ ëª¨ë¸ ì„±ëŠ¥ ê°œì„  í”„ë¡œì íŠ¸ ì™„ë£Œ!")
    print("ğŸ“Š ìµœì´ˆ ì–‘ìˆ˜ RÂ² ë‹¬ì„±ìœ¼ë¡œ ì‹¤ì œ ì˜ˆì¸¡ë ¥ í™•ë³´")
    print("ğŸ“‹ ì™„ì „í•œ ë³´ê³ ì„œ: performance_report.md")
    print("{'='*65}")

if __name__ == "__main__":
    main()